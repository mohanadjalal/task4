<form #userForm="ngForm" class="w-75 m-auto">
  <!-- update -->

  <h3>{{ id ? "Update User" : "Create User" }}</h3>

  <!-- first name -->
  <div class="mb-3">
    <label for="name">First Name</label>
    <input
      type="text"
      class="form-control"
      id="name"
      [(ngModel)]="model.firstName"
      required
      name="name"
      #name="ngModel"
    />
    <div *ngIf="!name.valid && name.touched" class="alert alert-danger">
      this field is required
    </div>
  </div>

  <!-- last name -->
  <div class="mb-3">
    <label for="lname">Last Name</label>
    <input
      type="text"
      class="form-control"
      id="lname"
      [(ngModel)]="model.lastName"
      required
      name="lname"
      #lname="ngModel"
    />
    <div *ngIf="!lname.valid && lname.touched" class="alert alert-danger">
      this field is required
    </div>
  </div>

  <!-- email -->
  <div class="mb-3">
    <label for="email">E-Mail</label>
    <input
      [disabled]="id"
      type="text"
      class="form-control"
      id="email"
      required
      [(ngModel)]="model.email"
      name="email"
      #email="ngModel"
    />

    <div *ngIf="!email.valid && email.touched" class="alert alert-danger">
      this field is required
    </div>
  </div>

  <!-- update inputs -->
  <div *ngIf="id">
    <!-- title -->
    <div class="mb-3">
      <label for="title">Title</label>
      <select
        class="form-control"
        id="title"
        name="title"
        [(ngModel)]="model.title"
        #title
      >
        <option *ngFor="let t of titles" [value]="t">{{ t }}</option>
      </select>
    </div>

    <!-- gender -->
    <div class="mb-3">
      <label for="gender">Gender</label>
      <select
        class="form-control"
        id="gender"
        name="gender"
        [(ngModel)]="model.gender"
        #gender
      >
        <option *ngFor="let g of genders" [value]="g">{{ g }}</option>
      </select>
    </div>

    <!-- pic -->
    <div class="mb-3">
      <label for="pic">Picture</label>
      <input
        type="text"
        class="form-control"
        id="pic"
        [(ngModel)]="model.picture"
        name="pic"
        #pic="ngModel"
      />
    </div>
  </div>
  <!-- end update inputs -->

  <!-- submit  -->
  <button
    class="btn btn-primary me-3 p-2"
    type="submit"
    (click)="onSubmit()"
    [disabled]="!userForm.valid || userForm.pristine"
  >
    Submit
  </button>

  <!-- back button -->
  <button
    class="btn btn-warning m-2 p-2"
    type="reset"
    (click)="backToUserList()"
  >
    Back
  </button>

  <div *ngIf="errors.length" class="alert alert-danger">
    <h5 *ngFor="let err of errors" class="m-2">{{ err }}</h5>
  </div>
  <div *ngIf="success" class="alert alert-success">{{ success }}</div>
</form>
